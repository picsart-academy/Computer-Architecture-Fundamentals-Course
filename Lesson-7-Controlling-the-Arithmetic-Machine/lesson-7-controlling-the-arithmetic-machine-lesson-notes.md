# Lesson 7. Controlling the Arithmetic Machine

Let's suppose we have four different circuits for each arithmetic operation (addition, multiplication, subtraction, division). Each of the devices is capable of executing an arithmetic operation on two 8-bit numbers.

[image 1 - arithmetic operation circuits]

Now let's design an input block that allows entering two 8-bit numbers using switches.

[image 2 - input block]

If we connect the outputs of the arithmetic devices to a set of bulbs this way:

[image 3 - bulbs connected to the arithmetic devices]

we can connect combine the scheme into one big box and connect the input block to that box by considering that we have wires connected from the input block to each of the arithmetic device inputs.

[image 4 - input block connected to the box]

If we want to add 27 (00011011) to 89 (01011001) which results in 116 (01110100), the result could be output on using the bulbs this way:

[image 5 - bulbs showing 116]

Now, consider we have a separate device for selecting the proper arithmetic operation:

[image 6 - control panel connected to the arithmetic devices]

Also note that in the previous image, we have four additional devices titled 2x8 Switch (which, by the way, is just a name for the device that turns on or off the signals passing through it).

[image - the structure of the switch]

`Side note:`
While a Multiplexer is a combinational circuit that has a maximum of `2^n` data inputs, `n` selection lines, and a single output line, a Demultiplexer (or Demux) is a combinational circuit that performs the reverse operation of a Multiplexer. It has a single input, `n` selection lines, and a maximum of `2^n` outputs. 
Since there are `n` selection lines, there will be `2^n` possible combinations of zeros and ones. Each combination can select only one output. 

[image - demultiplexer circuit]

The values generated by the switches are 
```
00
01
10
11
```

This means we can imitate four different commands passing to the arithmetic device. This means we can assign each set of switches to a specific arithmetic operation:
```
00 ADD
01 SUB
10 MUL
11 DIV
```

[image 7 - demultiplexer with command names]

[image 8 - demultiplexer with the switch, the full view]

So now, we almost came up with a machine code, where the two-bit code represents the operation. If we could somehow store and interpret the following 
`add numbers 27 and 89` then we would represent it as the following machine code:
```
00 00011011 01011001
```

And if we want to multiply 89 by 27, then the low-level code would look like this
```
10 01011001 00011011
```

